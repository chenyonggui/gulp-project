function animate(a,b,c){function d(){var c=!0;for(var d in b){var e=b[d],f=parseInt(getStyle(a)[d]);if("opacity"==d&&(f=100*getStyle(a)[d]),f!=e)return c=!1,c}return a.isMoving=!1,c}if(!a.isMoving)for(var e in a.isMoving=!0,b)(function(e){var f=b[e];a[e+"-timer"]=setInterval(function(){var b=Math.floor,g=Math.ceil;if("opacity"==e){var h=100*parseFloat(getStyle(a)[e]),i=(f-h)/7;i=0<i?g(i):b(i),a.style.opacity=(h+i)/100,a.style.filter="alpha(opacity="+(h+i)+")",a.style.opacity==f/100&&(clearInterval(a["opacity-timer"]),d()&&(c?c():""))}else{var h=parseInt(getStyle(a)[e]),i=(f-h)/7;i=0<i?g(i):b(i),a.style[e]=h+i+"px",parseInt(getStyle(a)[e])==f&&(clearInterval(a[e+"-timer"]),d()&&(c?c():""))}},30)})(e)}function getStyle(a){return a.currentStyle?a.currentStyle:getComputedStyle(a)}